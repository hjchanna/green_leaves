<div class="index-content-header">
</div>

<div class="index-content-body ">
    <div class="col-xs-4">        
        <div class="row" style="display: flex; flex-flow: column; height: calc(100vh - 52px);">
            <uib-tabset  active="indextab">
                <uib-tab index="0" heading="PERSONAL DETAIL">
                    <div class="col-xs-12" style="margin-top: 10px;">
                        <table class="control-table">
                            <col style="width: 35%"/>
                            <col style="width: 65%"/>
                            <tbody>
                                <tr>
                                    <td><label class="control-label">Client No :*</label></td>
                                    <td><input id="clientNo" class="form-control text-right" ng-model="model.data.clientNo" ng-keyup="ui.checkSupplierExists(model.data.clientNo, 'clientNo')" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">N.I.C :*</label></td>
                                    <td><input class="form-control text-right" ng-model="model.data.nicNumber" ng-keyup="ui.checkSupplierExists(model.data.nicNumber, 'nicNumber')"  ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Route :*</label></td>
                                    <td><input class="form-control text-right" ng-model="model.data.route" type="text" uib-typeahead="route as route.name for route in model.routes|filter:$viewValue|limitTo:10"  ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Name:*</label></td>
                                    <td><input class="form-control text-right" ng-model="model.data.name"  ng-keyup="ui.checkSupplierExists(model.data.name, 'name')" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Mobile:</label></td>
                                    <td><input class="form-control text-right" type="text" ng-model="model.data.mobileNumber" ng-keyup="ui.checkSupplierExists(model.data.mobileNumber, 'mobileNumber')" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Tele Phone:*</label></td>
                                    <td><input class="form-control text-right" type="text" ng-model="model.data.telephoneNumber" ng-keyup="ui.checkSupplierExists(model.data.telephoneNumber, 'telephoneNumber')" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Date Of Birth :*</label></td>
                                    <td><input class="form-control text-right" smart-input="date" ng-model="model.data.dateOfBirth" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Address:</label></td>
                                    <td><input class="form-control text-right" type="text" ng-model="model.data.addressLine1" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label"></label></td>
                                    <td><input class="form-control text-right" type="text" ng-model="model.data.addressLine2" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label"></label></td>
                                    <td><input class="form-control text-right" type="text" ng-model="model.data.addressLine3" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'" ng-keypress="ui.tabChnage($event)"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </uib-tab>

                <uib-tab index="1" heading="OTHER DETAIL">
                    <div class="col-xs-12" style="margin-top: 10px;">
                        <table class="control-table">
                            <col style="width: 35%"/>
                            <col style="width: 65%"/>
                            <tbody>
                                <tr>
                                    <td><label class="control-label">Register Date :*</label></td>
                                    <td><input id="registerDate" class="form-control text-right" smart-input="date" ng-model="model.data.registerDate" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Religion :*</label></td>
                                    <td>
                                        <select class="form-control" ng-model="model.data.religion" ng-options="religion for religion in model.religion" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'">
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Nationality :*</label></td>
                                    <td>
                                        <select class="form-control" ng-model="model.data.nationality" ng-options="nationality as nationality for nationality in model.nationality" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'">
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Marital Status :*</label></td>
                                    <td>
                                        <select  class="form-control" ng-model="model.data.maritalStatus" ng-options="maritalStatus as maritalStatus for maritalStatus in model.maritalStatus" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'">
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Client Type :*</label></td>
                                    <td>
                                        <select class="form-control" ng-model="model.data.clientType" ng-options="clientType as clientType for clientType in model.clientType" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'">
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Dy Supplier :</label></td>
                                    <td>
                                        <select class="form-control" ng-model="model.data.dySupplier" ng-change="ui.setDyNumber(model.data.dySupplier)" ng-options="dySupplier as dySupplier for dySupplier in model.dySupplier" ng-disabled="ui.mode !== 'NEW' && ui.mode !== 'EDIT'">
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Dy Number :</label></td>
                                    <td><input class="form-control text-right" type="text" ng-model="model.data.dyNumber" ng-disabled="status"></td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Sup B.Listed :</label></td>
                                    <td>
                                        <input class="form-control text-right" type="text" ng-model="model.data.supplierBlackListed" ng-disabled="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td><label class="control-label">Active</label></td>
                                    <td><input class="form-control text-right" ng-model="model.data.active" ng-disabled="true" ng-keypress="ui.keyEvent($event)"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
    <div class="col-xs-8">
        <div class="col-xs-12 background-dark" style="height: calc(100vh - 52px);">
            <div class="col-xs-5">
                <input type="text" class="search-input" placeholder="search" ng-model="search.clientNo">
            </div>
            <table class="control-table">
                <col style="width: 10%">
                <col style="width: 20%">
                <col style="width: 15%">
                <col style="width: 10%">
                <col style="width: 15%">
                <col style="width: 15%">
                <col style="width: 20%">
                <thead class="background-dark">
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Route</th>
                        <th>N.I.C</th>
                        <th>D.O.B</th>
                        <th>Reg Date</th>
                        <th>&nbsp;</th>
                    </tr>
                </thead>
            </table>
            <div class="smart-scroll-y" style="padding-right: 5px; height: calc(100vh - 180px);">
                <table class="table-hover table-primary">
                    <col style="width: 10%">
                    <col style="width: 20%">
                    <col style="width: 10%">
                    <col style="width: 15%">
                    <col style="width: 15%">
                    <col style="width: 15%">
                    <col style="width: 20%">
                    <tbody class="background-dark">
                        <tr ng-repeat="supplier in model.supplier|filter:search"  ng-class="{'selected':supplier === selectedRow}">
                            <td><div class="label label-default">{{supplier.clientNo}}</div></td>
                            <td>{{supplier.name}}</td>
                            <td>{{supplier.route.name}}</td>
                            <td>{{supplier.nicNumber}}</td>
                            <td>{{supplier.dateOfBirth | date:'yyyy-MM-dd'}}</td>
                            <td>{{supplier.registerDate | date:'yyyy-MM-dd'}}</td>
                            <td class="text-right">
                                <a class="btn btn-primary" ng-click="ui.edit(supplier, $index);"><span class="glyphicon glyphicon-edit"></span></a>
                                <a class="btn btn-danger" ng-click="ui.delete(supplier.indexNo, $index)"><span class="glyphicon glyphicon-trash"></span></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="fab-container">
    <a class="fab fab-lg fab-primary" ng-show="ui.mode === 'IDEAL' || ui.mode === 'SELECTED'" ng-click="ui.new();"><i class="glyphicon glyphicon-plus"></i></a>
    <a class="fab fab-lg fab-primary" ng-show="ui.mode === 'NEW' || ui.mode === 'EDIT'" ng-click="ui.save();"><i class="glyphicon glyphicon-ok"></i></a>
</div>